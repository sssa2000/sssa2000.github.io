---
layout: post
title: "Vs2012和Variadic Template"
date: 2013-06-16 02:31
comments: true
categories: 
---
<!-- more -->

##安装
折腾了下Vs2012和Visual C++ Compiler November 2012 CTP

最近业余时间里对格式化字符串的相关技术做点研究，

这怎么能少了C++11的 Variadic Template呢？

本以为只有GCC能支持这个特性，

后来发现Vs2012在前段时间有个补丁，也能支持了。

于是安装Vs2012，我本以为这个补丁就是Vs2012的Update2，

down下来后安装好了，却发现怎么还是不支持Variadic Template。

终于查明了，原来Visual C++ Compiler November 2012 CTP和Vs2012的Update2没什么关系，

要安装Visual C++ Compiler November 2012 CTP只需要下载1个10M左右的东西即可：
[Visual C++ Compiler November 2012 CTP][1]
http://www.microsoft.com/en-us/download/details.aspx?id=35515

##设置

懵懂无知的我本以为安装好了Visual C++ Compiler November 2012 CTP后就只需要编译就可以了，
其实不然。

为了能够让VS2012使用新的编译器还需要做一个设置：即需要在工程属性中选择使用Visual C++ Compiler November 2012 CTP的编译器才行。如下图：

{% img /images/1/vs2012_setup.png %}


##小试牛刀
到此，终于能编译Variadic Template了：

```cpp
#include "stdafx.h"
#include <iostream>
using namespace std;

template<typename T>
void TestVaT(T value)
{
	cout<<value<<endl;
}

template<typename T, typename... Args>
void TestVaT(T value, Args... args)
{
	TestVaT(value);
	TestVaT(args...);
}
int _tmain(int argc, _TCHAR* argv[])
{
	TestVaT(1,0.20f,'3',"hello Variadic templates");
	system("pause");
	return 0;
}

```
运行结果如下：
{% img /images/1/vat_res.png %}

